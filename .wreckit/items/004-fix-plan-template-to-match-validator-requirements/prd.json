{
  "schema_version": 1,
  "id": "004-fix-plan-template-to-match-validator-requirements",
  "branch_name": "wreckit/004-fix-plan-template-to-match-validator-requirements",
  "user_stories": [
    {
      "id": "US-001",
      "title": "Add missing Implementation Plan Title section to template",
      "acceptance_criteria": [
        "Template includes '## Implementation Plan Title' section after the header",
        "Section appears at line 59 in the example structure (after '# {{title}} Implementation Plan')",
        "Section includes placeholder text explaining its purpose",
        "Generated plans include this section and pass validation check for 'Implementation Plan Title'"
      ],
      "priority": 1,
      "status": "done",
      "notes": "This is the highest priority fix - without this section, all plans fail validation with 'Missing required sections: Implementation Plan Title'"
    },
    {
      "id": "US-002",
      "title": "Rename 'Current State Analysis' to 'Current State' in template",
      "acceptance_criteria": [
        "Template uses '## Current State' instead of '## Current State Analysis'",
        "Section name matches exactly (no extra words like 'Analysis')",
        "Placeholder text remains the same (describing what exists now, what's missing, key constraints)",
        "Generated plans pass regex pattern matching for 'Current State' section"
      ],
      "priority": 1,
      "status": "done",
      "notes": "Critical fix - the extra word 'Analysis' causes the regex pattern in findMissingPlanSections() to fail matching (validation.ts:552)"
    },
    {
      "id": "US-003",
      "title": "Add Phases container section and convert phase headers to level 3",
      "acceptance_criteria": [
        "Template includes '## Phases' container section (level 2 header)",
        "Individual phases use '### Phase 1: [Descriptive Name]' format (level 3 headers)",
        "Phase subsections (Overview, Changes Required, Success Criteria) use level 4 headers (####)",
        "Phases section ends before '## Testing Strategy' section",
        "countPhases() function detects phases correctly (extracts content between '## Phases' and '## Testing Strategy', counts ### headers)"
      ],
      "priority": 1,
      "status": "done",
      "notes": "Critical fix - without the '## Phases' container, countPhases() returns 0, causing 'Insufficient implementation phases: found 0, required at least 1' error"
    }
  ]
}
