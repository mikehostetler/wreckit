{
  "schema_version": 1,
  "id": "027-implement-tool-allowlist-enforcement-in-srcagentco",
  "branch_name": "wreckit/027-implement-tool-allowlist-enforcement-in-srcagentco",
  "user_stories": [
    {
      "id": "US-001",
      "title": "Verify Codex SDK runner implementation is complete",
      "acceptance_criteria": [
        "TypeScript compilation succeeds: `npm run build` passes without errors",
        "Type checking passes: `npm run typecheck` succeeds",
        "Linting passes: `npm run lint` succeeds",
        "File `src/agent/codex-sdk-runner.ts` exists and has ~372 lines (full implementation)",
        "Tool allowlist enforcement exists at line 113: `tools: effectiveTools`",
        "Helper functions exist: `handleSdkError`, `formatSdkMessage`, `emitAgentEventsFromSdkMessage`"
      ],
      "priority": 1,
      "status": "done",
      "notes": "Verification complete. The implementation is fully present in src/agent/codex-sdk-runner.ts with all required components. The file contains 372 lines with complete SDK integration, tool allowlist enforcement, error handling, message formatting, and event emission."
    },
    {
      "id": "US-002",
      "title": "Confirm ROADMAP.md shows objective as complete",
      "acceptance_criteria": [
        "ROADMAP.md line 23 shows '- [x]' for the codex-sdk-runner.ts objective",
        "Grep confirms: `grep 'codex-sdk-runner' ROADMAP.md` returns line containing `[x]`",
        "Milestone M2 shows this as one of the completed objectives"
      ],
      "priority": 1,
      "status": "done",
      "notes": "ROADMAP.md line 23 already shows `[x]` for the codex-sdk-runner.ts objective. M2 milestone now shows 2 of 5 objectives complete (amp-sdk-runner and codex-sdk-runner)."
    }
  ]
}
